import"./modulepreload-polyfill-B5Qt9EMX.js";/* empty css             */const L="modulepreload",S=function(n){return"/"+n},f={},b=function(e,t,s){let c=Promise.resolve();if(t&&t.length>0){document.getElementsByTagName("link");const o=document.querySelector("meta[property=csp-nonce]"),i=(o==null?void 0:o.nonce)||(o==null?void 0:o.getAttribute("nonce"));c=Promise.allSettled(t.map(r=>{if(r=S(r),r in f)return;f[r]=!0;const d=r.endsWith(".css"),p=d?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${r}"]${p}`))return;const l=document.createElement("link");if(l.rel=d?"stylesheet":L,d||(l.as="script"),l.crossOrigin="",l.href=r,i&&l.setAttribute("nonce",i),document.head.appendChild(l),d)return new Promise((E,w)=>{l.addEventListener("load",E),l.addEventListener("error",()=>w(new Error(`Unable to preload CSS for ${r}`)))})}))}function a(o){const i=new Event("vite:preloadError",{cancelable:!0});if(i.payload=o,window.dispatchEvent(i),!i.defaultPrevented)throw o}return c.then(o=>{for(const i of o||[])i.status==="rejected"&&a(i.reason);return e().catch(a)})};async function q(){if(document.getElementById("changelog-list"))try{const e=await fetch("/data/changelog.json");if(!e.ok)return;const t=await e.json();T(t)}catch{console.log("Changelog data not available, using static content")}}function T(n){const e=document.getElementById("changelog-list");!e||!n.length||(e.innerHTML=n.slice(0,5).map(t=>`
        <div class="changelog-item">
            <span class="changelog-date">${t.date}</span>
            <div class="changelog-content">
                <div class="changelog-title">${t.title}</div>
                <div class="changelog-desc">${t.description||""}</div>
            </div>
        </div>
    `).join(""))}function y(){document.querySelectorAll(".faq-question").forEach(n=>{n.addEventListener("click",()=>{const e=n.closest(".faq-item");if(!e)return;const t=e.classList.contains("active");document.querySelectorAll(".faq-item.active").forEach(s=>{s.classList.remove("active")}),t||e.classList.add("active")})})}async function k(){if(document.getElementById("faq-list"))try{const e=await fetch("/data/faq.json");if(!e.ok)return;const t=await e.json();I(t)}catch{console.log("FAQ data not available, using static content")}}function I(n){const e=document.getElementById("faq-list");!e||!n.length||(e.innerHTML=n.map(t=>`
        <div class="faq-item">
            <button class="faq-question">
                <span>${t.question}</span>
                <span class="faq-icon">+</span>
            </button>
            <div class="faq-answer">
                <div class="faq-answer-inner">${t.answer}</div>
            </div>
        </div>
    `).join(""),y())}const g=()=>{C(),y(),A(),q(),k(),B(),O(),j(),D()};document.readyState==="loading"?document.addEventListener("DOMContentLoaded",g):g();function C(){const n=document.getElementById("theme-toggle"),e=300,t="site-theme",s=localStorage.getItem(t)||"light",c=a=>{document.documentElement.setAttribute("data-theme",a),h(a)};c(s),window.addEventListener("pageshow",a=>{if(a.persisted){const o=localStorage.getItem(t)||"light";c(o)}}),window.addEventListener("storage",a=>{if(a.key===t){const o=a.newValue||"light";c(o)}}),n&&n.addEventListener("click",()=>{const o=document.documentElement.getAttribute("data-theme")==="dark"?"light":"dark";document.documentElement.classList.add("theme-transition"),document.documentElement.setAttribute("data-theme",o),h(o),localStorage.setItem(t,o),setTimeout(()=>{document.documentElement.classList.remove("theme-transition")},e)})}function h(n){const e=document.getElementById("theme-toggle");e&&(e.textContent=n==="dark"?"â˜€ï¸":"ðŸŒ™")}function A(){const n=document.getElementById("feedback-form");n&&n.addEventListener("submit",async e=>{e.preventDefault();const t=n.querySelector('button[type="submit"]');if(!t)return;const s=document.getElementById("form-message"),c=t.textContent??"";t.disabled=!0,t.textContent="æäº¤ä¸­...";try{const a=new FormData(n),o={email:a.get("email"),message:a.get("message"),timestamp:new Date().toISOString()};if((await fetch("/api/feedback",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(o)})).ok)v(s,"æ„Ÿè°¢æ‚¨çš„åé¦ˆï¼æˆ‘ä»¬ä¼šå°½å¿«å›žå¤ã€‚","success"),n.reset();else throw new Error("æäº¤å¤±è´¥")}catch{v(s,"æäº¤å¤±è´¥ï¼Œè¯·ç¨åŽé‡è¯•ã€‚","error")}finally{t.disabled=!1,t.textContent=c}})}function v(n,e,t){n&&(n.textContent=e,n.className=`form-message ${t}`,setTimeout(()=>{n.className="form-message"},5e3))}async function B(){try{await fetch("/api/stats/visit",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({page:window.location.pathname,referrer:document.referrer||null,timestamp:new Date().toISOString()})})}catch{}}async function O(){const n=document.getElementById("visit-count");if(n)try{const e=await fetch("/api/stats/count");if(!e.ok)return;const t=await e.json();typeof t.count=="number"&&(n.textContent=t.count.toLocaleString("zh-CN"))}catch{}}let m=!1,u=!1;function j(){if(!document.getElementById("particle-canvas")||m||u)return;const e=async()=>{if(!(m||u)){u=!0;try{(await b(()=>import("./effects-GgcxkiV0.js"),[])).initEffects(),m=!0}catch(s){console.warn("Failed to load effects module:",s),u=!1}}},t=window;t.requestIdleCallback?(t.requestIdleCallback(e,{timeout:1500}),setTimeout(e,2e3)):setTimeout(e,600),window.addEventListener("load",e,{once:!0})}function D(){document.querySelectorAll('a[href^="#"]').forEach(n=>{n.addEventListener("click",function(e){e.preventDefault();const t=document.querySelector(this.getAttribute("href")||"");t&&t.scrollIntoView({behavior:"smooth",block:"start"})})})}
