import"./modulepreload-polyfill-B5Qt9EMX.js";/* empty css             */const i=()=>{m(),d(),p(),g(),u(),y(),v(),E(),w()};document.readyState==="loading"?document.addEventListener("DOMContentLoaded",i):i();function m(){const n=document.getElementById("theme-toggle"),t=300,e="site-theme",a=localStorage.getItem(e)||"light",c=o=>{document.documentElement.setAttribute("data-theme",o),r(o)};c(a),window.addEventListener("pageshow",o=>{if(o.persisted){const s=localStorage.getItem(e)||"light";c(s)}}),window.addEventListener("storage",o=>{if(o.key===e){const s=o.newValue||"light";c(s)}}),n&&n.addEventListener("click",()=>{const s=document.documentElement.getAttribute("data-theme")==="dark"?"light":"dark";document.documentElement.classList.add("theme-transition"),document.documentElement.setAttribute("data-theme",s),r(s),localStorage.setItem(e,s),setTimeout(()=>{document.documentElement.classList.remove("theme-transition")},t)})}function r(n){const t=document.getElementById("theme-toggle");t&&(t.textContent=n==="dark"?"â˜€ï¸":"ðŸŒ™")}function d(){document.querySelectorAll(".faq-question").forEach(n=>{n.addEventListener("click",()=>{const t=n.closest(".faq-item");if(!t)return;const e=t.classList.contains("active");document.querySelectorAll(".faq-item.active").forEach(a=>{a.classList.remove("active")}),e||t.classList.add("active")})})}async function u(){if(document.getElementById("faq-list"))try{const t=await fetch("/data/faq.json");if(!t.ok)return;const e=await t.json();f(e)}catch{console.log("FAQ data not available, using static content")}}function f(n){const t=document.getElementById("faq-list");!t||!n.length||(t.innerHTML=n.map(e=>`
        <div class="faq-item">
            <button class="faq-question">
                <span>${e.question}</span>
                <span class="faq-icon">+</span>
            </button>
            <div class="faq-answer">
                <div class="faq-answer-inner">${e.answer}</div>
            </div>
        </div>
    `).join(""),d())}async function g(){if(document.getElementById("changelog-list"))try{const t=await fetch("/data/changelog.json");if(!t.ok)return;const e=await t.json();h(e)}catch{console.log("Changelog data not available, using static content")}}function h(n){const t=document.getElementById("changelog-list");!t||!n.length||(t.innerHTML=n.slice(0,5).map(e=>`
        <div class="changelog-item">
            <span class="changelog-date">${e.date}</span>
            <div class="changelog-content">
                <div class="changelog-title">${e.title}</div>
                <div class="changelog-desc">${e.description||""}</div>
            </div>
        </div>
    `).join(""))}function p(){const n=document.getElementById("feedback-form");n&&n.addEventListener("submit",async t=>{t.preventDefault();const e=n.querySelector('button[type="submit"]');if(!e)return;const a=document.getElementById("form-message"),c=e.textContent??"";e.disabled=!0,e.textContent="æäº¤ä¸­...";try{const o=new FormData(n),s={email:o.get("email"),message:o.get("message"),timestamp:new Date().toISOString()};if((await fetch("/api/feedback",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(s)})).ok)l(a,"æ„Ÿè°¢æ‚¨çš„åé¦ˆï¼æˆ‘ä»¬ä¼šå°½å¿«å›žå¤ã€‚","success"),n.reset();else throw new Error("æäº¤å¤±è´¥")}catch{l(a,"æäº¤å¤±è´¥ï¼Œè¯·ç¨åŽé‡è¯•ã€‚","error")}finally{e.disabled=!1,e.textContent=c}})}function l(n,t,e){n&&(n.textContent=t,n.className=`form-message ${e}`,setTimeout(()=>{n.className="form-message"},5e3))}async function y(){try{await fetch("/api/stats/visit",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({page:window.location.pathname,referrer:document.referrer||null,timestamp:new Date().toISOString()})})}catch{}}async function v(){const n=document.getElementById("visit-count");if(n)try{const t=await fetch("/api/stats/count");if(!t.ok)return;const e=await t.json();typeof e.count=="number"&&(n.textContent=e.count.toLocaleString("zh-CN"))}catch{}}function E(){if(!document.getElementById("particle-canvas"))return;const t=()=>{if(document.getElementById("effects-script"))return;const a=document.createElement("script");a.id="effects-script",a.src="js/effects.js",a.defer=!0,document.body.appendChild(a)},e=window;e.requestIdleCallback?e.requestIdleCallback(t,{timeout:1500}):setTimeout(t,600)}function w(){document.querySelectorAll('a[href^="#"]').forEach(n=>{n.addEventListener("click",function(t){t.preventDefault();const e=document.querySelector(this.getAttribute("href")||"");e&&e.scrollIntoView({behavior:"smooth",block:"start"})})})}
