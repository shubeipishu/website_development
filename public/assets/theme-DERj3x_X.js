const c="site-theme";function h(e){const n=document.getElementById("theme-toggle");n&&(n.textContent=e==="dark"?"â˜€ï¸":"ðŸŒ™")}function g(e){const n=document.getElementById("theme-toggle"),l=localStorage.getItem(c)||"light",d=m=>{var t;document.documentElement.setAttribute("data-theme",m),h(m),(t=e==null?void 0:e.onThemeChange)==null||t.call(e,m)};d(l),window.addEventListener("pageshow",m=>{if(m.persisted){const t=localStorage.getItem(c)||"light";d(t)}}),window.addEventListener("storage",m=>{if(m.key===c){const t=m.newValue||"light";d(t)}}),n&&n.addEventListener("click",()=>{var a;const t=document.documentElement.getAttribute("data-theme")==="dark"?"light":"dark";document.documentElement.classList.add("theme-transition"),document.documentElement.setAttribute("data-theme",t),h(t),(a=e==null?void 0:e.onThemeChange)==null||a.call(e,t),localStorage.setItem(c,t),setTimeout(()=>{document.documentElement.classList.remove("theme-transition")},300)})}export{g as i};
