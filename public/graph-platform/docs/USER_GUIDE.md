# 图论科研平台 Pro - 用户使用指南

> **版本**: v6.1  
> **最后更新**: 2025-11-28  
> **适用人群**: 图论学习者、研究者、教师和学生

---

## 目录

1. [快速入门](#1-快速入门)
2. [图的创建与编辑](#2-图的创建与编辑)
3. [视图与交互](#3-视图与交互)
4. [图生成器](#4-图生成器)
5. [算法与可视化](#5-算法与可视化)
6. [导出与保存](#6-导出与保存)
7. [快捷键列表](#7-快捷键列表)

---

## 1. 快速入门

### 启动方式

由于平台使用了现代 Web 技术（Web Worker 和 ES Modules），为了安全性和功能完整性，建议通过本地 HTTP 服务器运行，而不是直接双击 HTML 文件。

推荐方式：
*   **Windows 用户**: 双击项目根目录下的 `start_server.bat` 脚本。
*   **Python 环境**: 在终端运行 `python -m http.server 8080`。
*   **Node.js 环境**: 在终端运行 `npx http-server`。

启动成功后，请在浏览器访问: `http://localhost:8080`

### 界面概览

平台界面分为三个主要区域，布局直观高效：

*   **左侧工具栏**: 包含核心操作工具。
    *   绘图工具、图生成器入口。
    *   辅助功能开关（物理布局、智能吸附）。
    *   文件操作（保存、打开、导出）。
    *   主题切换（深色/浅色）。
*   **中间画布**: 无限大的交互式绘图区域。
    *   支持无限平移和缩放。
    *   背景带有动态网格，辅助定位。
*   **右侧面板**: 实时数据展示中心。
    *   **图的参数**: 实时显示顶点数、边数、度数统计、连通性等指标。
    *   **矩阵信息**: 折叠展示邻接矩阵和拉普拉斯矩阵及其特征值。

---

## 2. 图的创建与编辑

### 基础操作

*   **创建节点**: 在画布任意空白处 **双击** 鼠标左键。
*   **创建连线**: 按住 `Shift` 键，光标变为十字，从一个节点拖拽到另一个节点。
*   **移动对象**: 鼠标左键直接拖拽节点。若选中了多个节点，可批量移动。
*   **删除对象**: 选中节点或边后，按 `Del` 或 `Backspace` 键。也可以右键点击对象，选择“删除”。

### 选择模式

灵活的选择机制让编辑更加高效：

*   **单选**: 点击任意节点或边。
*   **加选**: 按住 `Ctrl` (Mac 为 Cmd) 点击未选中的对象，将其加入当前选择。
*   **框选**: 在画布空白处按住左键拖拽，绘制蓝色矩形框，框内的所有节点和边将被选中。
*   **全选**: 按 `Ctrl + A` 选中画布上所有内容。

### 高级编辑

*   **复制/粘贴**: 
    *   `Ctrl + C`: 复制当前选中的子图。
    *   `Ctrl + V`: 在鼠标当前位置粘贴。
*   **副本 (Duplicate)**: 
    *   `Ctrl + D`: 快速复制选中对象并稍作偏移粘贴，适合快速克隆结构。
*   **撤销/重做**: 
    *   `Ctrl + Z`: 撤销上一步操作。
    *   `Ctrl + Y`: 重做被撤销的操作。

---

## 3. 视图与交互

### 视图控制 (v6.1 新增)

为适应大尺寸图结构的浏览，v6.1 引入了专业的视图控制方式：

*   **平移画布**: 
    *   **方式一**: 按住 **空格键 (Space)**，光标变为抓手 👋，按下左键自由拖拽。
    *   **方式二**: 按住鼠标 **中键 (滚轮)** 直接拖拽。
*   **缩放画布**: 滚动鼠标滚轮。向上放大，向下缩小 (0.1x - 5x)。
*   **重置视图**: 按 `0` 键或点击工具栏底部的重置图标，视图将瞬间回到原点并恢复 100% 缩放。

### 辅助功能

*   **智能吸附 (Snap)**: 
    *   点击左侧 🧲 图标开启。
    *   移动节点时，会自动显示绿色的对齐辅助线（支持水平对齐、垂直对齐、两点中点对齐）。
*   **物理布局 (Physics)**: 
    *   点击左侧 ⚛️ 图标开启。
    *   基于力导向算法，节点间产生静电斥力，相连节点产生弹簧引力。
    *   **用途**: 自动解开缠绕复杂的连线，使图结构更清晰美观。
*   **动态网格**: 
    *   画布背景内置动态网格，随缩放级别自动调整密度。
    *   随主题自动切换颜色（浅色模式为淡灰，深色模式为深灰）。

### 主题切换

*   点击界面左下角的 🌙 / ☀️ 图标。
*   可在“深色模式 (Dark Mode)”和“浅色模式 (Light Mode)”间无缝切换。
*   所有界面元素、文字颜色及导出的图片背景均会自适应当前主题。

---

## 4. 图生成器

点击左侧 ✨ 图标打开图生成器面板，支持一键生成 15+ 种经典图结构。

### 支持类型
*   **基础图**: 完全图 ($K_n$)、圈图 ($C_n$)、路图 ($P_n$)。
*   **多部图**: 完全二部图 ($K_{n,m}$)、星图 ($S_n$)。
*   **结构图**: 二维网格图、超立方体 ($Q_n$)、满二叉树。
*   **特殊图**: 彼得森图 (Petersen)、希伍德图 (Heawood)、格勒奇图 (Grötzsch)、轮图 ($W_n$)、图兰图 ($T_{n,r}$)。
*   **随机图**: Erdős-Rényi 随机图 ($G_{n,p}$)。

### 提示
*   **参数限制**: 输入框会自动限制参数范围（如 $n$ 的最大值），以防生成过大的图导致浏览器卡顿。
*   **追加模式**: 勾选面板底部的“**保留画布现有图**”，新生成的图将添加在当前图旁边，而不是清空画布。这对创建非连通图非常有用。

---

## 5. 算法与可视化

右侧面板是科研数据的核心。

### 实时计算
平台会自动计算当前图的属性。为了保证交互流畅，耗时的复杂算法（如哈密顿圈、连通度）会在后台 **Web Worker** 线程中异步计算，不会阻塞界面。

### 可视化模式
点击右侧面板参数旁边的 👁️ (眼睛) 图标，即可在画布上开启对应的可视化层：

*   **染色数 $\chi(G)$**: 
    *   显示节点的最小着色方案。
    *   节点填充不同颜色，并标记颜色索引。
*   **边染色 $\chi'(G)$**: 
    *   显示边的最小着色方案。
    *   边显示不同颜色，中点标记索引。
*   **直径 / 距离**: 
    *   高亮显示图的直径路径（紫色加粗）。
    *   若选中两点，显示两点间的最短路径（绿色加粗）。
*   **最大独立集**: 
    *   高亮显示属于最大独立集的节点（红色填充 + 虚线边框）。
*   **连通度**: 
    *   **顶点连通度**: 闪烁显示最小点割集。
    *   **边连通度**: 闪烁显示最小边割集。
*   **哈密顿圈**: 
    *   若存在，高亮显示一条哈密顿回路（紫色加粗）。

---

## 6. 导出与保存

### 保存/加载项目
*   **保存 (.json)**: 点击 💾 图标或按 `Ctrl + S`，将当前工作区的所有状态保存为 JSON 文件。
*   **打开 (.json)**: 点击 📂 图标或按 `Ctrl + O`，加载之前保存的项目。

### 导出图片与代码
点击左侧导出图标（文件状图标）打开导出菜单：

#### 1. PNG 图片
*   **可选分辨率**: 
    *   `1x`: 屏幕分辨率。
    *   `2x`: Retina 高清（适合演示）。
    *   `4x`: 印刷级超清（适合打印）。
*   **可选背景**: 
    *   `跟随主题`: 导出所见即所得的背景色。
    *   `透明`: 背景透明，方便叠加。
    *   `纯白`: 适合学术文档插图。
    *   `深色`: 适合深色主题演示。

#### 2. LaTeX / TikZ
*   **功能**: 生成专业的 TikZ 代码，可直接复制到 LaTeX 文档中编译。
*   **预设**: 支持多种节点/边样式预设（如“标准蓝色”、“简单白底”、“实心点”等）。
*   **完整性**: 可选择是否包含 Document Preamble，方便直接测试编译。

---

## 7. 快捷键列表

| 功能分类 | 功能 | 快捷键 | 说明 |
| :--- | :--- | :--- | :--- |
| **视图控制** | 平移画布 | `空格 + 左键拖拽` | 或使用 `鼠标中键` |
| | 缩放 | `鼠标滚轮` | |
| | 重置视图 | `0` | 回到原点 |
| **编辑操作** | 撤销 | `Ctrl + Z` | |
| | 重做 | `Ctrl + Y` | |
| | 复制 | `Ctrl + C` | |
| | 粘贴 | `Ctrl + V` | 在鼠标位置粘贴 |
| | 副本 | `Ctrl + D` | 复制并偏移粘贴 |
| | 剪切 | `Ctrl + X` | |
| | 全选 | `Ctrl + A` | |
| | 删除 | `Del` / `Backspace` | |
| **绘图交互** | 创建连线 | `Shift + 拖拽` | |
| | 多选节点 | `Ctrl + 点击` | |
| **文件操作** | 保存 | `Ctrl + S` | |
| | 打开 | `Ctrl + O` | |
| | 导出 | (界面按钮) | |

---
*Graph Platform Pro v6.1*