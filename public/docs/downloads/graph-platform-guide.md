# 图论科研平台 Pro - 完整使用指南

**版本**: v6.1  
**更新日期**: 2026-01

---

## 目录

1. [平台概述](#平台概述)
2. [安装与运行](#安装与运行)
3. [图形编辑](#图形编辑)
4. [图指标与可视化](#图指标与可视化)
5. [导出功能](#导出功能)
6. [快捷键一览](#快捷键一览)

---

## 平台概述

**图论科研平台 Pro** 是一个基于 Web 的高性能图论可视化与计算工具，适用于教学、研究和算法演示。

### 功能特点

- 🎨 **交互式图编辑** - 直观的拖拽操作，轻松创建和编辑图结构
- ⚡ **高性能计算** - 基于 Web Worker 的并行计算，界面流畅不卡顿
- 📊 **图指标与可视化** - 直径、着色、连通性、哈密顿等指标高亮
- 🎯 **力导向布局** - 自动优化节点位置，呈现美观的图形布局
- 🌓 **深色/浅色主题** - 护眼模式，适应不同使用场景
- 📤 **多格式导出** - 支持 PNG 图片和 TikZ 代码导出

### 系统要求

| 项目 | 要求 |
|------|------|
| 浏览器 | Chrome 80+, Firefox 75+, Edge 80+ |
| 屏幕分辨率 | 建议 1280×720 以上 |
| JavaScript | 必须启用 |

---

## 安装与运行

### 在线使用（推荐）

直接访问在线版本即可使用，无需安装。

### 本地运行

由于项目使用了 ES Modules 和 Web Workers，需要通过 HTTP 服务器访问。

**使用 Python:**
```bash
cd graph-platform
python -m http.server 8080
# 访问 http://localhost:8080
```

**使用 Node.js:**
```bash
npx http-server -p 8080
```

**使用 Docker:**
```bash
docker-compose up -d --build
# 访问 http://localhost
```

---

## 图形编辑

### 创建与连线

- **创建节点**：在画布空白处 **双击**。
- **创建边**：按住 `Shift`，从一个节点拖拽到另一个节点后松开。
- **拖拽到空白处**：`Shift` 从节点拖到空白处松开，会自动新建一个节点并连线。
- **编号规则**：节点显示编号为创建顺序（从 1 开始）。删除节点后会重新编号。

### 选择与移动

| 操作 | 说明 |
|------|------|
| 单击节点/边 | 选中单个节点或边 |
| `Ctrl`/`Cmd` + 单击 | 多选节点或边 |
| 拖拽空白处 | 框选多个节点与边 |
| 拖拽已选节点 | 批量移动选中节点 |

### 视图控制

| 操作 | 说明 |
|------|------|
| 鼠标滚轮 | 缩放画布（约 0.1x - 5x） |
| 空格 + 左键拖拽 | 平移视图 |
| 鼠标中键拖拽 | 平移视图 |
| `0` | 重置视图 |

### 删除与剪贴板

- `Delete` / `Backspace`：删除选中元素。
- `Ctrl + A`：全选。
- `Ctrl + C / X / V`：复制 / 剪切 / 粘贴到鼠标位置。
- `Ctrl + D`：复制副本（原地偏移）。

### 工具与导出

- 图生成器：快速生成常见图结构。
- 物理布局：力导向布局开/关。
- 智能吸附：对齐辅助开/关。
- 导出：PNG / TikZ。

---

## 图指标与可视化

平台会自动计算图指标，并提供可视化高亮（不是逐步算法动画）。

### 实时计算

- 图一旦修改，会自动重新计算指标。
- 复杂指标在 Web Worker 中异步计算，避免卡顿。

### 指标列表

- |V|、|E|、最大度 Δ、最小度 δ、平均度 d
- 直径 diam(G)
- 图着色 χ(G)、边着色 χ'(G)
- 最大独立集 α(G)
- 两点距离 dist(u, v)（需选中两个节点）
- 点连通度 κ / 割点（|V| ≤ 50）
- 边连通度 λ / 割边（|V| ≤ 50）
- 哈密顿路 / 圈（|V| ≤ 24）
- 邻接矩阵 A、拉普拉斯矩阵 L 及特征值

### 使用方法

1. 创建或导入图形
2. 在右侧面板查看指标值
3. 点击指标左侧的 👁️ 图标进行高亮显示
4. 再次点击可退出

---

## 导出功能

### PNG 导出

1. 点击工具栏「导出」按钮
2. 选择「PNG 图片」
3. 设置分辨率和背景色
4. 点击「下载」

### TikZ 导出

1. 点击工具栏「导出」按钮
2. 选择「TikZ 代码」
3. 复制生成的 LaTeX 代码
4. 粘贴到 LaTeX 文档中使用

---

## 快捷键一览

| 快捷键 | 功能 |
|--------|------|
| `Shift + 拖拽` | 从节点连线 |
| `Delete` / `Backspace` | 删除选中元素 |
| `Ctrl + Z` | 撤销 |
| `Ctrl + Y` / `Ctrl + Shift + Z` | 重做 |
| `Ctrl + S` | 保存图形 |
| `Ctrl + O` | 打开图形 |
| `Ctrl + A` | 全选 |
| `Ctrl + C / X / V` | 复制 / 剪切 / 粘贴 |
| `Ctrl + D` | 复制副本 |
| `Space + 拖拽` | 平移视图 |
| `0` | 重置视图 |

---

## 常见问题

### Q: 为什么双击 HTML 打开后功能不正常？

**A:** 浏览器对 `file://` 协议有安全限制。请使用 HTTP 服务器访问。

### Q: 如何保存我的图形？

**A:** 使用 `Ctrl + S` 保存为 JSON 文件，可以通过 `Ctrl + O` 重新加载。

### Q: 为什么有些指标显示为 skip？

**A:** 部分指标在大规模图上计算成本较高：连通性/割点/割边在 |V| > 50 时会跳过，哈密顿路/圈在 |V| > 24 时会跳过。

---

*本文档由图论科研平台自动生成*
